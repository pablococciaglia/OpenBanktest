{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cocci\\\\Desktop\\\\react\\\\openbankbase\\\\ok-test-main\\\\src\\\\components\\\\CreatePasswordScreen.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { TextField } from './TextField';\nimport { CheckItems } from './CheckItems';\nimport { Context } from './Context';\nimport { submitForm } from '../services/api';\nimport { Loading } from './Loading';\nexport const CreatePasswordScreen = () => {\n  const history = useHistory();\n  const {\n    checkpoints,\n    setcheckpoints,\n    setActiveStep,\n    setapiresponse\n  } = useContext(Context);\n  useEffect(() => {\n    setActiveStep(1);\n  }, []);\n  const [isLoading, setisLoading] = useState(false);\n\n  const handleReturnHome = () => {\n    setcheckpoints({ ...checkpoints,\n      'acceptContract': false\n    });\n    history.push('./');\n  };\n\n  const validate = Yup.object({\n    password: Yup.string().min(8, 'La contraseña debe poseer al menos 8 caracteres').required('La contraseña es requerida').matches(/^.*((?=.*[0-9]){1}).*$/, \"La contraseña debe poseer al menos un número\").matches(/^.*((?=.*[A-Z]){1}).*$/, \"La contraseña debe poseer al menos una mayúscula\").matches(/^.*((?=.*[a-z]){1}).*$/, \"La contraseña debe poseer al menos una minúscula\"),\n    confirmPassword: Yup.string().oneOf([Yup.ref('password'), null], 'Las contraseñas deben coincidir').required('La confirmación de contraseña es requerida'),\n    pista: Yup.string().max(255, 'La pista no puede superar los 255 caracteres')\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"base__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"base__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Crea tu Password Manager\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"base__underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, \"En primer lugar, debes crear una contrase\\xF1a diferente para tus pertenencias electr\\xF3nicas. \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 101\n    }\n  }), \"No podr\\xE1s recuperar tu contrase\\xF1a, as\\xED que recu\\xE9rdala bien.\"), isLoading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      password: '',\n      confirmPassword: '',\n      pista: ''\n    },\n    validationSchema: validate,\n    onSubmit: values => {\n      setisLoading(true);\n      console.log(isLoading);\n      submitForm(values.password, values.confirmPassword, values.pista).then(response => setapiresponse(response), setisLoading(false), setcheckpoints({ ...checkpoints,\n        'passwordAccepted': true\n      }), history.push('./response')).catch(function (err) {\n        console.log(err);\n      });\n      /* .finally(\r\n        setTimeout(() => {\r\n          setisLoading(false);\r\n          setcheckpoints({...checkpoints, 'passwordAccepted':true});\r\n          history.push('./response');\r\n        }, 3000)\r\n      ); */\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, formik => /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CheckItems, {\n    values: formik.values,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Crea tu Contrase\\xF1a Maestra\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Elige una contrase\\xF1a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Repite tu Contrase\\xF1a Maestra\",\n    name: \"confirmPassword\",\n    type: \"password\",\n    placeholder: \"Repite tu contrase\\xF1a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 23\n    }\n  }, \"Tambi\\xE9n puedes crear una pista que te ayude a recordar tu contrase\\xF1a maestra. \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-info-circle screen3__infoicon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 105\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Crea tu pista para recordar tu contrase\\xF1a maestra (opcional)\",\n    name: \"pista\",\n    type: \"text\",\n    placeholder: \"Introduce tu pista\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 23\n    }\n  }, \"Siguiente \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 83\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-light\",\n    onClick: handleReturnHome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  }, \"Cancelar\")))));\n};","map":{"version":3,"sources":["C:/Users/cocci/Desktop/react/openbankbase/ok-test-main/src/components/CreatePasswordScreen.js"],"names":["React","useContext","useState","useEffect","useHistory","Formik","Form","Yup","TextField","CheckItems","Context","submitForm","Loading","CreatePasswordScreen","history","checkpoints","setcheckpoints","setActiveStep","setapiresponse","isLoading","setisLoading","handleReturnHome","push","validate","object","password","string","min","required","matches","confirmPassword","oneOf","ref","pista","max","values","console","log","then","response","catch","err","formik"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {Formik, Form} from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { TextField } from './TextField';\r\nimport { CheckItems } from './CheckItems';\r\nimport { Context } from './Context';\r\nimport { submitForm } from '../services/api';\r\nimport { Loading } from './Loading';\r\n\r\n\r\nexport const CreatePasswordScreen = () => {\r\n\r\n     const history = useHistory();     \r\n\r\n    const {checkpoints, setcheckpoints, setActiveStep, setapiresponse} = useContext (Context);\r\n\r\n    useEffect(() => {\r\n        setActiveStep(1);\r\n    }, [])\r\n\r\n    const [isLoading, setisLoading] = useState(false);\r\n\r\n\r\n    const handleReturnHome = () =>{\r\n      setcheckpoints({...checkpoints, 'acceptContract':false})\r\n      history.push('./');\r\n    }\r\n\r\n    const validate = Yup.object({\r\n        password: Yup.string()\r\n      .min(8, 'La contraseña debe poseer al menos 8 caracteres')\r\n      .required('La contraseña es requerida')\r\n      .matches(\r\n        /^.*((?=.*[0-9]){1}).*$/,\r\n        \"La contraseña debe poseer al menos un número\"\r\n      )\r\n      .matches(\r\n        /^.*((?=.*[A-Z]){1}).*$/,\r\n        \"La contraseña debe poseer al menos una mayúscula\"\r\n      ).matches(\r\n        /^.*((?=.*[a-z]){1}).*$/,\r\n        \"La contraseña debe poseer al menos una minúscula\"\r\n      ),\r\n    confirmPassword: Yup.string()\r\n      .oneOf([Yup.ref('password'), null], 'Las contraseñas deben coincidir')\r\n      .required('La confirmación de contraseña es requerida'),\r\n    pista: Yup.string()\r\n      .max(255, 'La pista no puede superar los 255 caracteres')\r\n      \r\n    })\r\n \r\n  return (\r\n  \r\n     <div className=\"base__container\">\r\n      <div className=\"base__content\">\r\n        \r\n        <h1>Crea tu Password Manager</h1>\r\n        <div className=\"base__underline\"></div>\r\n        <h3>\r\n          En primer lugar, debes crear una contraseña diferente para tus pertenencias electrónicas. <br/>\r\n          No podrás recuperar tu contraseña, así que recuérdala bien.\r\n        </h3>\r\n        {isLoading && <Loading />}\r\n        \r\n          <Formik\r\n              initialValues={{\r\n                  password: '',\r\n                  confirmPassword: '',\r\n                  pista: '',\r\n              }}\r\n          \r\n              validationSchema={validate}\r\n\r\n              onSubmit={values => {\r\n                setisLoading(true);\r\n                console.log(isLoading)\r\n                submitForm(values.password, values.confirmPassword, values.pista)\r\n                .then(response => \r\n                  setapiresponse(response),\r\n                  setisLoading(false),\r\n                  setcheckpoints({...checkpoints, 'passwordAccepted':true}),\r\n                  history.push('./response'),\r\n                )\r\n                .catch(function(err) {\r\n                  console.log(err);\r\n                })\r\n                /* .finally(\r\n                  setTimeout(() => {\r\n                    setisLoading(false);\r\n                    setcheckpoints({...checkpoints, 'passwordAccepted':true});\r\n                    history.push('./response');\r\n                  }, 3000)\r\n                ); */\r\n              }}\r\n          >\r\n      \r\n              {formik => (\r\n                  <Form>\r\n                      <CheckItems values={formik.values}/>\r\n                      <TextField label=\"Crea tu Contraseña Maestra\" name=\"password\" type=\"password\"  placeholder=\"Elige una contraseña\"/>\r\n                      <TextField label=\"Repite tu Contraseña Maestra\" name=\"confirmPassword\" type=\"password\" placeholder=\"Repite tu contraseña\"/>\r\n                      <h3>También puedes crear una pista que te ayude a recordar tu contraseña maestra. <i className=\"bi bi-info-circle screen3__infoicon\"></i></h3>\r\n                      <TextField label=\"Crea tu pista para recordar tu contraseña maestra (opcional)\" name=\"pista\" type=\"text\" placeholder=\"Introduce tu pista\"/>\r\n                      <button className=\"btn btn-primary\" type=\"submit\">Siguiente <i className=\"bi bi-chevron-right\"></i></button>\r\n                      <button className=\"btn btn-light\" onClick={handleReturnHome}>Cancelar</button>\r\n                  </Form>\r\n              )}\r\n          </Formik>\r\n      </div>\r\n    </div> \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}